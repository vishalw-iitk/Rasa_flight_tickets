version: '3'
services:
  actions:
    container_name: rasa_action_server
    image: flight_chatbot_rasa
    build: rasa_main/
    ports:
      - "5055:5055"
    expose:
      - "5055"
    command: 'run actions'

  rasa:
    image: flight_chatbot_rasa
    ports:
      - "5005:5005"
    command: 'run --cors "*" --enable-api'
    expose:
      - "5005"

  app:
    image: flight_flask
    build: Flask/
    ports:
      - "5000:5000"
    command: 'python app.py'
    depends_on:
      - rasa
